Ext.define('neverWalkAlone.view.main.MainViewController', {
  extend: 'Ext.app.ViewController',
  alias: 'controller.mainviewcontroller',

  // Simply run setCenterViewXtype, passing the record that describes the center view,
  // and updateCenterViewXtype takes care of the rest.
  config: {
    centerViewXtype: null
  },

  initViewModel: function (vm) {
    var me = this;

    // menuItem can change either because the user selected an item in the NavView, or
    // because the record is named in the URL routing information.
    vm.bind("", me.setCenterViewXtype, me);
  },

  updateCenterViewXtype: function (menuItem) {
    if (!menuItem) return;
    var data = menuItem.data;
    if (!Ext.ClassManager.getByAlias("widget." + data.xtype)) {
      console.log(xtype + " does not exist");
      return;
    }

    var centerview = this.lookup("centerview");

    // Lazily add the view to the center container.
    var child = centerview.getComponent(data.xtype) || centerview.add({ xtype: data.xtype, itemId: data.xtype, heading: data.text });

    centerview.setActiveItem(child);

    this.redirectTo(data.xtype);

    this.getViewModel().set("menuItem", menuItem);
    this.getViewModel().set("heading", data.text);
  },

  routes: {
    ':xtype': { action: 'mainRoute' }
  },

  mainRoute: function (xtype) {
    //var menuview = this.lookup('menuview');
    var navview = this.lookup('navview');
    var menuview = navview.items.items[0]
    var centerview = this.lookup('centerview');
    var exists = Ext.ClassManager.getByAlias('widget.' + xtype);
    if (exists === undefined) {
      console.log(xtype + ' does not exist');
      return;
    }
    var node = menuview.getStore().findNode('xtype', xtype);
    if (node == null) {
      console.log('unmatchedRoute: ' + xtype);
      return;
    }
    if (!centerview.getComponent(xtype)) {
      centerview.add({ xtype: xtype, itemId: xtype, heading: node.get('text') });
    }
    centerview.setActiveItem(xtype);
    menuview.setSelection(node);
    var vm = this.getViewModel();
    vm.set('heading', node.get('text'));
  },

  onMenuViewSelectionChange: function (tree, node) {
    if (node == null) { return }
    var vm = this.getViewModel();
    if (node.get('xtype') != undefined) {
      this.redirectTo(node.get('xtype'));
    }
  },

  onHeaderViewNavToggle: function () {
    var vm = this.getViewModel();
    vm.set('navCollapsed', !vm.get('navCollapsed'));
    //var topPic = this.lookup('topPic');
    var topPic = Ext.getCmp('topPic');
    if (vm.get('navCollapsed') == true) {
      topPic.setData({
        src: 'data:image/jpeg;base64,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',
        caption: 'Akir', imgStyle: 'imgSmall', height: '100px'
      });
    }
    else {
      topPic.setData({
        src: 'data:image/jpeg;base64,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',
        caption: 'Welcome Akir Oussama', imgStyle: 'imgBig', height: '150px'
      });
    }

  },

  onHeaderViewDetailToggle: function () {
    var vm = this.getViewModel();
    vm.set('detailCollapsed', !vm.get('detailCollapsed'));
    var detailtoggle = this.lookup('detailtoggle');
    if (vm.get('detailCollapsed') === true) {
      //detailtoggle.setType('prev')
      detailtoggle.setIconCls('x-fa fa-arrow-left')
    }
    else {
      //detailtoggle.setType('next')
      detailtoggle.setIconCls('x-fa fa-arrow-right')
    }
  },

  onToolButtonClicked: function (button) {
    Ext.Msg.show({
      title: 'Tool Button',
      closable: false,
      message: button.name + ' tool button was clicked',
      buttons: Ext.Msg.OK,
      icon: Ext.Msg.INFO,
      fn: function (btn) {
        if (btn === 'ok') {
          console.log('ok pressed');
        } else {
          console.log('??? pressed');
        }
      }
    })
  }

});